(function(){var t,r,e,i,n,s,a,o;$(document).on("click",".heart",function(t){var r,e,i;if(t.preventDefault(),i=$(this).data("url"),e=$(this).data("screen-id"),r=$(this).hasClass("heart-liked")?"dislike":"like",o(i,e),"like"===r)return $(this).css("background-position","right"),$(this).css("transition","background .8s steps(28)")}),o=function(t,r){$.ajax({type:"GET",url:t,dataType:"html",success:function(t){$("figure[data-screen-id='"+r+"'] .screen-meta-actions").html(t)}})},r=function(){return $(".search").submit(function(){if(""===$.trim($("#search_input").val()))return!1})},t=function(){var t;t=$(".payment-form"),t.submit(function(r){return t.find(".submit").prop("disabled",!0),Stripe.card.createToken(t,e),!1})},e=function(t,r){var e,i;e=$(".payment-form"),r.error?(e.find(".payment-errors").text(r.error.message),e.find(".submit").prop("disabled",!1)):(i=r.id,e.append($('<input type="hidden" name="stripeToken">').val(i)),e.get(0).submit())},n=function(){return $(".subscription-btn").click(function(t){return t.preventDefault(),$(".subscription-form").addClass("form-show"),$(".subscription").show(),$(".subscription-form-small").hide()})},$(document).on("click",".subscription-tiers .tier",function(t){var r,e,i;return t.preventDefault(),r=$(this).data("product-id"),i=$(this).data("product-price"),e=$(this).data("product-period"),$(".product-id").val(r),$(".tier").removeClass("selected"),$(this).addClass("selected"),$(".price-to-pay").html(i),$(".payment-period").html(e),$(".subscribe-btn").val("Subscribe and Pay "+i)}),i=function(){return $(".subscription-form-close").click(function(t){return t.preventDefault(),$(".subscription-form").removeClass("form-show"),$(".subscription").hide(),$(".subscription-form-small").show()})},s=function(){return $('*[data-stripe="number"]').payment("formatCardNumber"),$('*[data-stripe="cvc"]').payment("formatCardCVC"),$('*[data-stripe="exp"]').payment("formatCardExpiry")},a=function(){return $(".tabs li").click(function(){var t;return $(".profile-section").hide(),t=$(this).data("url"),$("."+t).show(),$(".tabs li").removeClass("selected"),$(this).addClass("selected")})},$(document).ready(function(){return r(),t(),s(),a()})}).call(this);